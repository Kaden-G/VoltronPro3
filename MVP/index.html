<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@picocss/pico@1/css/pico.min.css">
    <title>Everette Enterprise</title>
</head>

<style>
    .white-text {
        color: white;
        font-size: 20pt;
    }

    .dropdown {
        position: relative;
        display: inline-block;
    }

    .dropdown-content {
        display: none;
        position: absolute;
        background-color: #f9f9f9;
        min-width: 160px;
        box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
        z-index: 1;
    }

    .dropdown:hover .dropdown-content {
        display: block;
    }
    /* body {
        margin: 0;
        padding: 0;
        background-image: url('https://i.pinimg.com/originals/af/7b/bd/af7bbdf02998b9ab0b19e3e5389fa67d.jpg');
        background-size: cover;
        background-repeat: repeat-x;
        background-position: center center;
        height: 100vh;
    } */

    nav {
        background: url('https://wallpapercave.com/wp/wp3140238.jpg') center/cover no-repeat;
        text-align: center;
        padding: 10px;
        color: black; /* Change the text color to white */
        font-family: 'arial', cursive;
        font-size: 36pt;
        padding: 20px 650px;
        margin-bottom: 10;
    }
    

    /* nav ul li a,
    input,
    .bottom-nav ul li a {
        color: black;
        text-decoration: none;
    } */

    main {
        display: flex;
        flex-direction: column;
        align-items: center;
    }

    .form-box {
        padding: 10px;
        border: 1px solid black;
        border-radius: 8px;
        margin: 10px;
    }

    label {
        display: block;
        margin-bottom: 5px;
    }

    input {
        width: 100%;
        padding: 5px;
        margin-bottom: 10px;
    }

    .item img,
    .asset-item img {
        max-width: 100%;
        height: auto;
    }
    
    #searchResults {
    margin-top: 20px; /* Space between the search form and results */
    padding: 10px;
    border: 1px solid #ddd; /* Optional: adds a border around the results */
    border-radius: 5px; /* Optional: rounds the corners of the border */
    background-color: #f9f9f9; /* Optional: sets a background color */
}

    #assetDisplay {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        padding: 20px;
    }

    .asset-item {
        text-align: center;
        margin: 10px;
    }
    .fluid-box .submission-box {
        flex-basis: 48%; /* Adjust the width of the boxes as needed */
        margin-right: 2%;
    }

    .fluid-box .search-box {
        flex-basis: 48%; /* Adjust the width of the boxes as needed */
        margin-left: 2%;
    }

    .fluid-box .separator {
        width: 2%;
        background-color: grey;
    }
    #uploadForm,
    .submission-box {
    display: flex;
    flex-direction: column;
    align-items: center;
    margin-top: 20px;
    width: 100%;
    box-sizing: border-box;
    padding: 10px;
    font-weight: bold;
    /* background: url('https://i.pinimg.com/originals/af/7b/bd/af7bbdf02998b9ab0b19e3e5389fa67d.jpg') center/cover no-repeat; Set the background */
}
    .bottom-nav {
        background-color: rgb(255, 255, 255);
        color: black;
        text-align: center;
        padding: 10px;
        width: 100%;
        margin: auto; /* Center the navigation bar */
    }

    .bottom-nav ul {
        list-style: none;
        padding: 0;
        margin: 0;
        display: flex;
        justify-content: center;
    }

    .bottom-nav ul li {
        margin: 0 10px;
    }

    .bottom-nav ul li a {
        color: black;
        text-decoration: none;
    }
        /* Center the Copyright information */
        .footer-text {
        text-align: center;
        }
</style>
<body>
<nav class="container-fluid white-text">
        <ul>
            <li class="dropdown">
                <strong class="white-text">Everette Enterprises</strong>
            </li>
        </ul>
        <ul>
            <li class="dropdown">
                <a href="#" class="white-text">About</a>
                <div class="dropdown-content">
                    <a href="#">Submenu item 1</a>
                    <a href="#">Submenu item 2</a>
                    <!-- Add more submenu items as needed -->
                </div>
            </li>
            <li class="dropdown">
                <a href="#" class="white-text">Mission</a>
                <div class="dropdown-content">
                    <a href="#">Submenu item 1</a>
                    <a href="#">Submenu item 2</a>
                    <!-- Add more submenu items as needed -->
                </div>
            </li>
            <li class="dropdown">
                <a href="#" role="button" class="white-text">Sample Library</a>
                <div class="dropdown-content">
                    <a href="#">Submenu item 1</a>
                    <a href="#">Submenu item 2</a>
                    <!-- Add more submenu items as needed -->
                </div>
            </li>
        </ul>
    </nav>
    <main class="container">
        <div class="grid">
            <section id="about">
                <hgroup>
                    <h2>About Us</h2>
                    <h3>Everette Enterprise - Your Marketing Partner</h3>
                </hgroup>
                <p>Everette Enterprise specializes in creating impactful marketing strategies and campaigns tailored to each client's unique needs. Our innovative approach and experienced team ensure your brand stands out in a crowded marketplace.</p>
                <figure>
                    <img src="https://emeritus.org/in/wp-content/uploads/sites/3/2022/04/March_What-is-the-Importance-of-Marketing-for-Businesses-1-1024x683.jpg.optimal.jpg" alt="Potential Ads" />
                    <figcaption>Potential Advertising Strategies</figcaption>
                </figure>
            </section>
            <section id="mission">
                <hgroup>
                    <h2>Our Mission</h2>
                    <h3>Empowering Businesses through Effective Marketing</h3>
                </hgroup>
                <p>At Everette Enterprise, our mission is to empower businesses by providing top-notch marketing solutions. We believe in building strong relationships with our clients and delivering results that exceed expectations.</p>
                <figure>
                    <img src="https://imageio.forbes.com/specials-images/imageserve/64109923d0884eb16a7f502c/Business--teamwork-and-meeting-in-office-with-manager--collaboration-and-startup/960x0.jpg?format=jpg&width=1440" alt="Web Developer and Client" />
                    <figcaption>Collaboration for Success</figcaption>
                </figure>
            </section>
            <section id="digital-assets">
                <hgroup>
                    <h2>Sample Marketing Library</h2>
                    <h3>Making your vision a reality</h3>
                </hgroup>
                <p>Partner with a dedicated Account Executive at our agency to craft targeted, effective ad campaigns aligned with your goals. Explore our extensive Sample Marketing Library to find inspiration from a range of completed ads, or share your unique ideas with our skilled designers. Experience seamless organization and efficiency with our intuitive digital solutions, tailored to streamline your advertising journey.</p>
            </section>
        </div>
        <div class="submission-box fluid-box">
            <h3>Submit a Design</h3>
            <form id="submissionForm">
                <label for="submissionclientUsername">Company/Account:*</label>
                <input type="text" id="submissionclientUsername" name="submissionclientUsername" required>
    
                <label for="title">Title:*</label>
                <input type="text" id="title" name="title">
    
                <label for="mediaType">Ad Campaign:</label>
                <input type="text" id="mediaType" name="mediaType">
    
                <button type="button" onclick="submitForm()">Submit</button>
            </form>
        </div>
        <div class="container-fluid text-center">
            <!-- Updated Search Form -->
            <form id="searchForm">
                <label for="searchclientUsername">Search by Client/Account:</label>
                <input type="text" id="searchclientUsername" name="searchclientUsername" required>
                <button type="submit">Search</button>
            </form>
            <!-- Placeholder for displaying search results -->
            <div id="searchResults"></div>
        </div>

        <script>
            // Define the base URL for your API Gateway endpoint
            const API_BASE_URL = 'https://x3ujj2eooi.execute-api.us-east-1.amazonaws.com/dl-test3';
        
            document.getElementById('searchForm').addEventListener('submit', function(event) {
    event.preventDefault(); // Prevent the default form submission behavior

    var clientUsername = document.getElementById('searchclientUsername').value.trim();

    if (clientUsername) {
        var url = `https://x3ujj2eooi.execute-api.us-east-1.amazonaws.com/dl-test3/assets/${encodeURIComponent(clientUsername)}`;

        fetch(url)
        .then(response => {
            if (!response.ok) {
                throw new Error(`Error: ${response.statusText}`);
            }
            return response.json();
        })
        .then(data => {
            // Here is where you should call displaySearchResults
            displaySearchResults(data); // This function will handle the display logic
        })
        .catch(error => {
            console.error('Search failed:', error);
        });
    } else {
        console.log('Client/Username is required for search.');
    }
});

function displaySearchResults(results) {
    const resultsDiv = document.getElementById('searchResults');
    resultsDiv.innerHTML = ''; // Clear previous results

    // Assuming 'results' is an array; if it's a single object, adjust accordingly
    [results].flat().forEach(result => {
        const div = document.createElement('div');
        
        // Directly use the 'mediaType' field as the image URL
        const img = document.createElement('img');
        img.src = result.mediaType; // This is the image URL in your case
        img.alt = `Image for ${result.clientUsername}`;
        img.style.maxWidth = '100%'; // Responsive image width
        img.style.height = 'auto';
        
        div.appendChild(img);

        // Add title and clientUsername as text below the image
        const text = document.createElement('p');
        text.textContent = `Client/Username: ${result.clientUsername}, Title: ${result.title}`;
        div.appendChild(text);

        resultsDiv.appendChild(div);
    });

    if (results.length === 0) {
        resultsDiv.textContent = 'No results found.';
    }
}
        
            function submitForm() {
                const clientUsername = document.getElementById("submissionclientUsername").value;
                const title = document.getElementById("title").value;
                const mediaType = document.getElementById("mediaType").value;
        
                const formData = {
                    clientUsername: clientUsername,
                    title: title,
                    mediaType: mediaType
                };
        
                // Use the API Gateway URL for the fetch call
                fetch(`${API_BASE_URL}/submit_asset`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                    },
                    body: JSON.stringify(formData),
                })
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Network response was not ok');
                    }
                    return response.json();
                })
                .then(data => {
                    console.log('Success:', data);
                    alert('Asset submitted successfully');
                    fetchAssets();
                })
                .catch(error => {
                    console.error('Error:', error);
                    alert('Error submitting asset');
                });
            }
        
            function fetchAssets() {
                // Use the API Gateway URL for the fetch call to get all assets
                fetch(`${API_BASE_URL}/assets`, {
                    method: 'GET',
                })
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Network response was not ok');
                    }
                    return response.json();
                })
                .then(data => {
                    const display = document.getElementById('assetDisplay');
                    display.innerHTML = ''; // Clear the display area first
        
                    // Assuming `data` is an array of assets. Adjust based on actual API response structure
                    data.forEach(asset => {
                        const assetDiv = document.createElement('div');
                        assetDiv.className = 'asset-item';
                        assetDiv.innerHTML = `<p>${asset.clientUsername}: ${asset.title} - ${asset.mediaType}</p>`;
                        display.appendChild(assetDiv);
                    });
                })
                .catch(error => {
                    console.error('Error:', error);
                });
            }
        
            function deleteAsset(assetId) {
                // Use the API Gateway URL for the fetch call
                fetch(`${API_BASE_URL}/assets/${assetId}`, {
                    method: 'DELETE',
                })
                .then(response => response.json())
                .then(data => {
                    console.log('Delete Successful:', data);
                    alert('Asset deleted successfully');
                    fetchAssets();
                })
                .catch(error => {
                    console.error('Error:', error);
                    alert('Error deleting asset');
                });
            }
        </script>
        
    <footer class="container-fluid text-center" style="text-align: center;">
        <p>Copyright &copy; Everette Enterprises 2021</p>
        <small><a href="#">Privacy Policy</a> • <a href="#">Terms of Use</a></small>
    </footer>
</body>
</html>

</html>
